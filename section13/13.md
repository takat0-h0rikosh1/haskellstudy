# 13章 モナドがいっぱい

ファンクターは関数で写せる値を表す便利な概念。  
モナドはアプリカティブファンクターの強化版。

## 13.1 アプリカティブファンクターを強化する

アプリカティブ値は、変な値、専門用語でいうと「文脈の不可された値」だとみなせる。  
例えば、文字 a はただの文字だが、Just `a` は何らかの文脈がついている。

Applicative型クラスは、これらの文脈のついた値に、文脈を保ったまま普通の関数を適用させてくれる。

```haskell
(*) <$> Just 2 <*> Just 8

(++) <$> Just "exdeath" <*> Nothing

(-) <$> [3,4] <*> [1,2,3]
```

モナドはある願いを叶えるための、アプリカティブ値の自然な拡張である。  
その願いとは、「普通の値aを取って文脈付きの値を返す関数に、文脈付きの値m aを渡したい」というもの。

下記のような関数が欲しいということ。

```haskell
(>>=) :: (Monad m) => m a -> (a -> m a) -> m b
```

mはモナドのmで文脈を示す。`>>=`はバインドと呼ばれる。

## 13.2 Maybeから始めるモナド


```haskell
-- functor としての動作
fmap (++"!") (Just "window")
fmap (++"!") Nothing

-- applicative としての動作: 値に適応する関数にも文脈がつく
Just (+3) <*> Just 3

Nothing <*> Just "greed"

Just ord <*> Nothing

-- applicative style
max <$> Just 3 <*> Just 6

max <$> Just 3 <*> Nothing
```

